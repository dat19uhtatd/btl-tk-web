<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quên mật khẩu</title>
  <link rel="stylesheet" href="css/quenmk.css" />
</head>
<body>
  <main class="container">
    <div class="card" role="region" aria-labelledby="title">
      <h1 id="title">Quên mật khẩu</h1>

      <!-- Step 1: Nhập email để gửi mã -->
      <section id="step-email" class="step active" aria-hidden="false">
        <p class="hint">Nhập email đã đăng ký, chúng tôi sẽ gửi mã xác thực tới email đó.</p>
        <form id="emailForm" novalidate>
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required autocomplete="email" />
          <div class="error" id="emailError" aria-live="polite"></div>

          <button type="submit" class="btn">Gửi mã xác thực</button>
        </form>
      </section>

      <!-- Step 2: Nhập mã và mật khẩu mới -->
      <section id="step-reset" class="step" aria-hidden="true">
        <p class="hint">Nhập mã xác thực bạn vừa nhận được và đặt mật khẩu mới.</p>
        <form id="resetForm" novalidate>
          <label for="code">Mã xác thực</label>
          <input type="text" id="code" name="code" inputmode="numeric" maxlength="8" required />
          <div class="error" id="codeError" aria-live="polite"></div>

          <label for="password">Mật khẩu mới</label>
          <input type="password" id="password" name="password" required autocomplete="new-password" />
          <div class="pwd-help">Ít nhất 8 ký tự, có chữ hoa, chữ thường và số.</div>
          <div class="error" id="passwordError" aria-live="polite"></div>

          <label for="confirm">Xác nhận mật khẩu</label>
          <input type="password" id="confirm" name="confirm" required autocomplete="new-password" />
          <div class="error" id="confirmError" aria-live="polite"></div>

          <button type="submit" class="btn">Đặt lại mật khẩu</button>
        </form>
        <button id="backToEmail" class="link-btn">Quay lại</button>
      </section>

      <!-- Thông báo thành công -->
      <section id="step-done" class="step" aria-hidden="true">
        <h2 id="doneTitle">Hoàn tất</h2>
        <p>Bạn đã đặt lại mật khẩu thành công. <a href="/login">Đăng nhập ngay</a></p>
      </section>

      <div id="globalMsg" aria-live="polite" class="global-msg"></div>
    </div>
  </main>

  <script src="java/quenmk.js"></script>
</body>
</html>
